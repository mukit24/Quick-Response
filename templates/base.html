<!DOCTYPE html>
<html lang="en">
{% load static %} {% load socialaccount %}
{% load notifications_tags %}

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick Response</title>
  <link rel="icon" href="{% static 'images/logo.png' %}" type="image/icon type" />

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- Popper JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

  <link rel="stylesheet" href="{% static 'style.css' %}" />
  <script src="{% static 'main.js' %}"></script>
  <link rel="stylesheet" href="{% static 'owl.carousel.min.css' %}" />
  <script src="{% static 'owl.carousel.min.js' %}"></script>

  <style>
    /* font */
@import url('https://fonts.googleapis.com/css2?family=Girassol&family=Newsreader:ital,wght@0,400;0,500;0,600;1,700&display=swap');

/* global css */
:root{
    /* --main-color: rgb(95, 95, 141);
    --color-1: azure;
    --color-2:cornsilk; */
    --font-1: 'Newsreader', serif;
    --font-2: 'Girassol', cursive;
}
body{
    overflow-x: hidden !important;
}

*{
    margin: 0 ;
    padding: 0 ;
    outline: none !important;
}

    img {
      max-width: 100%;
      vertical-align: middle;
    }

    #prob_index_sol {
      border-bottom: 1px solid grey;
      margin: 0 25px;
    }

    @media screen and (max-width: 425px) {
      #prob_index_sol {
        display: inline;
        border: none;
        margin: 0;
      }
    }

    .sol_date_author {
      font-size: 12px;
      color: midnightblue;
      font-weight: 600;
    }

    #cmt_s {
      font-size: 15px;
      color: gray;
      padding: 0;
      padding-top: 10px;
      cursor: pointer;
      margin-bottom: 0;
    }

    .vote_noti {
      position: fixed;
      top: 0%;
      left: 35%;
      display: block;
      z-index: 1000;
    }

    #slide_noti{
      overflow-y: auto;
    }

    .nav-title{
      font-size: 25px;
      font-weight: 600;
    }
    .nav-title-1{
      font-size: 24px;
    }

    .navbar-brand img{
        width: 33px;
      }

      .home_p{
        font-size: 17px;
        font-weight: 600;
        color: rgb(136, 130, 130);
        letter-spacing: 2px;
        font-style: italic;
      }

    @media screen and (max-width: 425px) {
      .nav-title-1{
        font-size: 17px;
      }
      .nav-title{
        font-size: 18px;
      }
      .navbar-brand img{
        width: 25px;
      }
      #menu_icon{
        font-size: 18px;
      }
      #noti{
        font-size: 18px;
      }
    }

    .card{
      margin: 10px;
      text-align: center;
      border-radius: 10px;
    }

    .card-title{
      color: green;
    }
    .card-body i{
      color: darkgreen;
    }
    .card-body p{
      font-size: 15px;
        font-weight: 600;
        color: rgb(136, 130, 130);
    }
    .feature-carousel .card{
      height: 180px;
    }
    
    .my_fade_main {
      opacity: 0;
      bottom: -50px;
    }

    .owl-carousel {
    position: relative;
}
.owl-next i, .owl-prev i{
  font-size: 20px;
}
.owl-next, .owl-prev {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    -webkit-transform: translateY(-50%);
}
.owl-next {
    right: 0;
    display: flex;
}
.owl-prev{
    left: 0;
    display: flex;
}
    /* #home_icon{
        animation-name: icon_rot;
        animation-duration: 2s;
        animation-delay: 2s;
        animation-timing-function: ease-out;
        animation-iteration-count: infinite;
    }

    @keyframes icon_rot {
    0%   {transform: rotate(0deg) }
    100% {transform: rotate(360deg) }
    } */

    #slide_noti {
      overflow-x: hidden !important;
      width: 0px;
      height: 100%;
      position: fixed;
      right: 0;
      padding: 0px !important;
      overflow-y: auto;
      z-index: 1;
      transition: 0.5s;
    }
  </style>
  <script>

  </script>
</head>

<body>
  <nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="navbar-brand text-light" href="#" data-toggle="tooltip" title="Menu" id="menu_btn"><i
            class="fa fa-reorder" id="menu_icon"></i></a>
      </li>
    </ul>

    <ul class="navbar-nav m-auto">
      <li class="nav-item">
        <a class="navbar-brand" href="{% url 'home_view' %}"><img
            src="{% static 'images/logo.png' %}" alt="Logo" /><span class="nav-title" style="
                color: rgb(238, 228, 163);
                font-family: 'Courier New', Courier, monospace;
              " >Quick</span><span class="nav-title-1" style="color: lightgreen; font-family: var(--font-2);">
            Response</span></a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
      <li class="nav-item">
        <a class="navbar-brand text-light" id="noti" href="#" data-toggle="tooltip" title="Notification"><i
            class="fa fa-bell text-info"></i><sup class="{% if user.notifications.unread.count > 0 %}badge badge-danger{% else %}badge badge-success{% endif %}" style="padding: 2px">{{user.notifications.unread.count}}</sup></a>
      </li>
    </ul>
  </nav>
  <div id="my_side_nav" class="bg-dark">
    {% with request.resolver_match.url_name as url_name %}
    <a href="{% url 'home_view' %}" class="{% if url_name == 'home_view' %}text-light{% endif %}">Home</a>
    <a href="{% url 'prob_home' %}" class="{% if 'problems' in request.path %}text-light{% endif %}">Problems</a>
    <a href="{% url 'points' %}" class="{% if 'points' in request.path %}text-light{% endif %}">Points</a>
    {% endwith %} {% if request.user.is_authenticated %}
    <a href="{% url 'profile_view' request.user.id %}" class="text-success"
      style="font-weight: 600">{{request.user}}</a>
    <a href="{% url 'account_logout' %}"><button class="btn btn-danger btn-sm py-0 text-light">
        Logout
      </button></a>
    {% else %}
    <a href="{% url 'account_signup' %}"><button class="btn btn-primary btn-sm py-0 text-light">
        Sign Up
      </button></a>
    <a href="{% url 'account_login' %}?next={{request.path}}"><button class="btn btn-success btn-sm py-0 text-light">
        Login
      </button></a>
    {% endif %}
  </div>
  <!-- <div id="search_bar_sm" class="bg-dark p-2">
    <form class="form-inline" action="/action_page.php">
      <input class="form-control mr-1" type="text" placeholder="Search" />
      <button class="btn btn-success" type="submit">Search</button>
    </form>
  </div> -->
  <div id="slide_noti" class="bg-dark text-light">
    <div class="text-center">
      <button class="btn btn-info m-2 font-weight-bold py-1">
        Notifications <span class="{% if user.notifications.unread.count > 0 %}badge badge-danger{% else %}badge badge-success{% endif %}">{{user.notifications.unread.count}}</span>
      </button>
    </div>


    <!-- noti testing -->
    {% for notification in user.notifications.unread %}
    <a href="{% url 'notification_op' notification.id %}" style="text-decoration: none;">
      <div class="alert alert-danger mb-1 m-2">
        <p class="mb-0"><b>{{ notification.actor }}</b> {{ notification.verb }} <small style="display: block;text-align: right;">{{notification.timestamp}}</small></p>
      </div>
    </a>
    
    {% endfor %}
    {% for notification in user.notifications.read %}
    <a href="/problems/{{notification.target.id}}/details/" style="text-decoration: none;">
      <div class="alert alert-success mb-1 m-2">
        <p class="mb-0"><b>{{ notification.actor }}</b> {{ notification.verb }} <small style="display: block;text-align: right;">{{notification.timestamp}}</small></p>
      </div>
    </a>
    
    {% endfor %}
  </div>
  <div id="main_content">{% block content %}{% endblock %}</div>
  {% if not request.user.is_authenticated %}
  <div class="alert alert-secondary alert-dismissible" id="auth_alert">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong class="pr-4">Wanna Join Us?</strong>
    <a href="{% url 'account_signup' %}"><button class="btn btn-success btn-sm">Sign Up</button></a>
    <a href="{% url 'account_login' %}?next={{request.path}}"><button class="btn btn-primary btn-sm">Login</button></a>
    <!-- <a href=""><button class="btn btn-info btn-sm "><i class="fa fa-facebook-official" style="font-size: 20px;"></i> Sign In Using Facebook</button></a> -->
    <a href="{% provider_login_url 'google' %}?next={{request.path}}"><button class="btn btn-dark btn-sm">
        <i class="fa fa-google" style="font-size: 20px"></i> Sign In Using
        Google
      </button></a>
    <a href="{% provider_login_url 'github' %}?next={{request.path}}"><button class="btn btn-secondary btn-sm">
        <i class="fa fa-github" style="font-size: 20px"></i> Sign In Using
        Github
      </button></a>
  </div>
  {% endif %}
  <footer>
    <div class="container text-center text-md-left mt-5" id="main_content">
      <div class="row mt-3">
        <div class="col-md-4 col-lg-4 col-xl-4 mx-auto mb-4" style="font-weight: 600">
          <h6 class="text-uppercase font-weight-bold">Services</h6>
          <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px" />
          <p>Data Store Of Alumni</p>
          <p>University Notice</p>
          <p>Social Media Purpose</p>
          <p>Image Gallery</p>
        </div>
        <div class="col-md-4 col-lg-4 col-xl-4 mx-auto mb-4">
          <h6 class="text-uppercase font-weight-bold">Useful links</h6>
          <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px" />
          <p>
            <a href="#!">Khulna University</a>
          </p>
          <p>
            <a href="#!">Facebook</a>
          </p>
          <p>
            <a href="#!">Linkdin</a>
          </p>
          <p>
            <a href="#!">Instragram</a>
          </p>
        </div>
        <div class="col-md-4 col-lg-4 col-xl-4 mx-auto mb-md-0 mb-4" style="font-weight: 600">
          <h6 class="text-uppercase font-weight-bold">Contact</h6>
          <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px" />
          <p>
            <a href="mailto:mukithasanpranto4@gmail.com">mukithasanpranto4@gmail.com</a>
          </p>
          <p>+880 1980492420</p>
        </div>
      </div>
    </div>
    <div class="footer-copyright text-center text-light pt-3 bg-dark" style="font-weight: 600; padding-bottom: 60px">
      © 2021 Copyright:
      <a href="{% url 'home_view' %}" style="font-weight: 700">
        Quick-Response.com</a>
    </div>
  </footer>
  <script>
    // var tags = $("#id_tag li label").find("input[type=checkbox]");
    // // console.log(tags)
    $(window).scroll(function () {
    $('.my_fade_main').each(function (i) {

      var bottom_of_object = $(this).position().top + $(this).outerHeight();
      var bottom_of_window = $(window).scrollTop() + $(window).height();
      var topp = $(this).position().top;
      if (bottom_of_window > bottom_of_object) {
        $(this).animate({ 'opacity': '1', 'bottom': '0px', }, 1200);

      }
    });
  });
    $(document).ready(function () {
      // menu btn
      $("#menu_btn").click(function (e) {
        console.log('yoo');
    e.preventDefault();
    if ($("#my_side_nav").hasClass("open_nav")) {
      $("#my_side_nav").css({ width: "0" }).removeClass("open_nav");
      $("#menu_icon")
        .removeClass("fa fa-remove")
        .addClass("fa fa-reorder");
      $("#main_content").css({ filter: 'blur(0px)' });
    } else {
      console.log('yooside');
      if ($("#slide_noti").hasClass("expand")) {
      // $("#main_content").css({ filter: 'blur(0px)' });
      $("#slide_noti").css({ width: "0px" }).removeClass("expand");
    }
      $("#my_side_nav").css({ width: "180px" }).addClass("open_nav");
      $("#menu_icon")
        .removeClass("fa fa-reorder")
        .addClass("fa fa-remove");
      $("#main_content").css({ filter: 'blur(2px)' });
    }
  });

  // noti btn
  $("#noti").click(function (e) {
    e.preventDefault();
    if ($("#slide_noti").hasClass("expand")) {
      $("#main_content").css({ filter: 'blur(0px)' });
      $("#slide_noti").css({ width: "0px" }).removeClass("expand");
    } else {
      if ($("#my_side_nav").hasClass("open_nav")) {
        $("#my_side_nav").css({ width: "0" }).removeClass("open_nav");
        $("#menu_icon")
        .removeClass("fa fa-remove")
        .addClass("fa fa-reorder");
      }
      if ($(window).width() < 300){
        $("#slide_noti").css({ width: "220px" }).addClass("expand");
      $("#main_content").css({ filter: 'blur(2px)' });
      }else{
        $("#slide_noti").css({ width: "280px" }).addClass("expand");
      $("#main_content").css({ filter: 'blur(2px)' });
      }
      
    }
  });



      $("#id_tag input[type=checkbox]").each(function () {
        if (this.checked) {
          var value = $(this).parent().text();
          console.log(value)
          $('#myInput_tag').before('<h6 class="d-inline-block mx-1"><span class="badge badge-secondary">' + value + '</span></h6>');
        }
      });

      $('.feature-carousel').owlCarousel({
        loop:true,
        autoplay:true,
        margin: 0,
        nav: true,
        navText: ["<i class='fa fa-caret-left' aria-hidden='true'></i>","<i class='fa fa-caret-right' aria-hidden='true'></i>"],
        responsiveClass:true,
        responsive:{
            0:{
                items:1,
            },
            500:{
                items:2,
            },
            1000:{
                items:4,
            }
        }
    })
    })

  </script>
</body>

</html>