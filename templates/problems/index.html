{% extends "base.html" %}
{% load static %} 
{% block content %}
<div class="bg-light" id="post_section">
    <div class="container">
        <div id="create_post">
            <div class="text-right">
                <button class="btn btn-primary py-1 m-1" id="publish_problem_btn">
                    Publish A Problem
                </button>
                <div class="custom-control custom-switch d-inline-block">
                    <input type="checkbox" class="custom-control-input" id="dark_mode" />
                    <label class="custom-control-label" for="dark_mode" style="font-weight: 600">Dark Mode</label>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-9">
                    <form action="{% url 'create_problem' %}" method="POST" class="p-2" id="post_form"
                        style="font-weight: 400">
                        {% csrf_token %} 
                        {{post_form.media}} 
                        {{post_form}}
                        <input type="submit" value="Publish" class="btn btn-success btn-sm mt-1" />
                    </form>
                </div>
            </div>
        </div>
        <div id="post_list">
            <h4 class="text-center alert alert-primary font-weight-bold py-1">
                Top Problems
            </h4>
            {% for problem in problems %}
            <div class="row">
                <div class="col-lg-3">
                    <div class="row text-center">
                        <div class="col-6">
                            <h6 style="border-bottom: 1px solid grey">Status</h6>
                            {% if problem.is_solved %}
                            <button class="btn btn-success btn-sm py-0">Solved</button>
                            {% else %}
                            <button class="btn btn-danger btn-sm py-0">Unsolved</button>
                            {% endif %}
                        </div>
                        <div class="col-6">
                            <h6 style="border-bottom: 1px solid grey">Solutions</h6>
                            <button class="btn btn-warning btn-sm py-0">4</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <a href="" style="
              text-decoration: none;
              font-weight: 500;
              font-size: large;
              display: block;
            ">{{problem.title}}</a>
                    <div class="row">
                        <div class="col-7 text-left">
                            {% for tag in problem.tag.all %}
                            <h6 class="d-inline-block">
                                <span class="badge badge-secondary">{{tag.name}}</span>
                            </h6>
                            {% endfor %}
                        </div>
                        <div class="col-5 text-right">
                            <h6 style="font-size: small">
                                Published At {{problem.created_on}}
                            </h6>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="bg-info my-2" />
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}